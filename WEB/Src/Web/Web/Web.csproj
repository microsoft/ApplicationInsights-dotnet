<Project Sdk="Microsoft.NET.Sdk">
  <Import Project="$(PropsRoot)\Product.props" />

  <PropertyGroup>
    <RootNamespace>Microsoft.ApplicationInsights.Web</RootNamespace>
    <AssemblyName>Microsoft.AI.Web</AssemblyName>
    <TargetFrameworks>net462</TargetFrameworks>
    <!-- Important: This project is exclusively NetFramework. This will not be upgraded to NetStandard nor NetCore. -->
    <Prefer32Bit>false</Prefer32Bit>
    <DefineConstants>$(DefineConstants);ALLOW_AGGRESSIVE_INLIGNING_ATTRIBUTE;AI_CLASSIC_WEB</DefineConstants>
  </PropertyGroup>

  <PropertyGroup>
    <!--Nupkg properties-->
    <PackageId>Microsoft.ApplicationInsights.Web</PackageId>
    <Title>Application Insights for Web Applications</Title>
    <Description>Application Insights for .NET web applications. Privacy statement: https://go.microsoft.com/fwlink/?LinkId=512156</Description>
    <PackageTags>Azure Monitoring Analytics ApplicationInsights Telemetry AppInsights</PackageTags>
    <UserSecretsId>28eb75fe-d19e-475a-a841-a6d3e19bbb93</UserSecretsId>
  </PropertyGroup>

  <ItemGroup>
    <!--Common Dependencies-->
    <ProjectReference Include="..\..\..\..\BASE\src\Microsoft.ApplicationInsights\Microsoft.ApplicationInsights.csproj" />
    <PackageReference Include="OpenTelemetry.Exporter.Console" />
    <PackageReference Include="System.Diagnostics.DiagnosticSource" />
	<PackageReference Include="OpenTelemetry.Instrumentation.AspNet" />
    <PackageReference Include="OpenTelemetry.Instrumentation.Http" />
    <PackageReference Include="OpenTelemetry.Instrumentation.SqlClient" />
  </ItemGroup>

  <ItemGroup>
    <!--Nuget Transforms (install.xdt, uninstall.xdt, config.transform): "nupkg\content\<framework>\*.*-->
    <Content Include="net462\*" />
    <Content Include="Microsoft.ApplicationInsights.Web.targets" PackagePath="build" />
  </ItemGroup>

  <ItemGroup>
    <!--Framework References-->
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System.Web" />
  </ItemGroup>

  <ItemGroup>
    <AdditionalFiles Include="$(PublicApiRoot)\$(AssemblyName).dll\Stable\PublicAPI.Shipped.txt" />
    <AdditionalFiles Include="$(PublicApiRoot)\$(AssemblyName).dll\Stable\PublicAPI.Unshipped.txt" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="..\..\..\..\NETCORE\src\Shared\ActivityFilterProcessor.cs" Link="Implementation\ActivityFilterProcessor.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AppServiceResourceDetector.cs" Link="Implementation\Vendoring\AppServiceResourceDetector.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AzureContainerAppsResourceDetector.cs" Link="Implementation\Vendoring\AzureContainerAppsResourceDetector.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AzureResourceBuilderExtensions.cs" Link="Implementation\Vendoring\AzureResourceBuilderExtensions.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AzureVmMetaDataRequestor.cs" Link="Implementation\Vendoring\AzureVmMetaDataRequestor.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AzureVmMetadataResponse.cs" Link="Implementation\Vendoring\AzureVmMetadataResponse.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\AzureVMResourceDetector.cs" Link="Implementation\Vendoring\AzureVMResourceDetector.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\Guard.cs" Link="Implementation\Vendoring\Guard.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\ResourceAttributeConstants.cs" Link="Implementation\Vendoring\ResourceAttributeConstants.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\ResourceSemanticConventions.cs" Link="Implementation\Vendoring\ResourceSemanticConventions.cs" />
    <Compile Include="..\..\..\..\NETCORE\src\Shared\Vendoring\OpenTelemetry.Resources.Azure\SourceGenerationContext.cs" Link="Implementation\Vendoring\SourceGenerationContext.cs" />
  </ItemGroup>
</Project>
